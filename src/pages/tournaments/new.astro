---
import Layout from "@/layouts/Layout.astro";
import AddTournamentForm from "@/components/forms/AddTournamentForm";
import PageHeader from "@/components/PageHeader";
import { detectLanguageFromHeader, t } from "@/lib/i18n";

export const prerender = false;

// This is a protected route - authentication check happens in middleware
// User must be logged in to access this page

// Detect language from browser
const acceptLanguage = Astro.request.headers.get("accept-language");
const lang = detectLanguageFromHeader(acceptLanguage);
const pageTitle = `${t(lang, "tournaments.addTitle")} - ${t(lang, "common.appName")}`;
---

<Layout title={pageTitle}>
  <div class="container mx-auto px-4 py-8 max-w-4xl">
    <PageHeader titleKey="tournaments.addTitle" subtitleKey="tournaments.addSubtitle" client:only="react" />
    <AddTournamentForm lang={lang} client:load />
  </div>
</Layout>

---
import Layout from "@/layouts/Layout.astro";
import ResetPasswordForm from "@/components/forms/ResetPasswordForm";
import GuestNavWrapper from "@/components/navigation/GuestNavWrapper";

export const prerender = false;

// Extract token from URL query parameters
const url = new URL(Astro.request.url);
const token = url.searchParams.get("token") || url.searchParams.get("access_token");
---

<Layout title="Reset Password - Darter Assistant">
  <GuestNavWrapper client:only="react" />

  <main class="min-h-[calc(100vh-73px)] flex items-center justify-center p-4">
    <ResetPasswordForm client:load token={token} />
  </main>
</Layout>
